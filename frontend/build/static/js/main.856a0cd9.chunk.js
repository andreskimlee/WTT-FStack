(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{220:function(e,t,n){e.exports=n(438)},427:function(e,t,n){e.exports=n(428)},428:function(e,t){e.exports={mongoURI:Object({NODE_ENV:"production",PUBLIC_URL:""}).MONGO_URI,secretOrKey:Object({NODE_ENV:"production",PUBLIC_URL:""}).SECRET_OR_KEY,IEXAPIKey:Object({NODE_ENV:"production",PUBLIC_URL:""}).IEX_API_KEY,IEXSandBoxKey:Object({NODE_ENV:"production",PUBLIC_URL:""}).IEX_SAND_BOX_KEY}},431:function(e,t,n){},432:function(e,t,n){},433:function(e,t,n){},434:function(e,t,n){},435:function(e,t,n){},436:function(e,t,n){},437:function(e,t,n){},438:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(39),c=n.n(s),i=n(20),o=n.n(i),l=n(177),u=n(8),m=n(41),h=function(e){return{loggedIn:e.session.isAuthenticated}},p=Object(m.f)(Object(u.b)(h)((function(e){var t=e.component,n=e.path,a=e.loggedIn,s=e.exact;return r.a.createElement(m.b,{path:n,exact:s,render:function(e){return a?r.a.createElement(m.a,{to:"/"}):r.a.createElement(t,e)}})}))),d=Object(m.f)(Object(u.b)(h)((function(e){var t=e.component,n=e.loggedIn,a=Object(l.a)(e,["component","loggedIn"]);return r.a.createElement(m.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(m.a,{to:"/signin"})}}))}))),f=n(9),E=n(10),v=n(13),b=n(11),y=n(12),g=function(e){e?o.a.defaults.headers.common.Authorization=e:delete o.a.defaults.headers.common.Authorization},O=n(77),j=n.n(O),k=function(e){return{type:"RECEIVE_SESSION_ERRORS",errors:e}},N=function(){return function(e){localStorage.removeItem("jwtToken"),g(!1),e({type:"RECEIVE_USER_LOGOUT"})}},S=function(e){return function(t){return function(e){return o.a.post("/api/users/register",e)}(e).then((function(){return t({type:"RECEIVE_USER_SIGN_IN"})}),(function(e){return t(k(e.response.data))}))}},C=function(e){return function(t){return function(e){return o.a.post("/api/users/login",e)}(e).then((function(e){var n=e.data.token;localStorage.setItem("jwtToken",n),g(n);var a=j()(n);t({type:"RECEIVE_CURRENT_USER",currentUser:a})})).catch((function(e){t(k(e.response.data))}))}},R=n(40),I=n(17),w=n(14),x=n(78),T=n.n(x),_=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).state={email:"",password:"",password2:"",name:"",errors:{}},n.handleSubmit=n.handleSubmit.bind(Object(I.a)(n)),n.clearedErrors=!1,n}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentWillReceiveProps",value:function(e){!0===e.signedIn&&this.props.history.push("/"),this.setState({errors:e.errors})}},{key:"update",value:function(e){var t=this;return function(n){return t.setState(Object(R.a)({},e,n.currentTarget.value))}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password,password2:this.state.password2,name:this.state.name};this.props.signup(t)}},{key:"renderErrors",value:function(){var e=this;return r.a.createElement("ul",null,Object.keys(this.state.errors).map((function(t,n){return r.a.createElement("li",{key:"error-".concat(n)},e.state.errors[t])})))}},{key:"render",value:function(){return r.a.createElement("div",{className:"splash-form-container"},r.a.createElement("img",{className:"wallpaper",src:T.a,alt:"session-wallpaper"}),r.a.createElement("div",{className:"session-outer"},r.a.createElement("h2",null,"Welcome To PiperHood!"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"session-form"},r.a.createElement("p",null,"Full Name"),r.a.createElement("input",{type:"text",value:this.state.name,onChange:this.update("name"),className:"field-inputs"}),r.a.createElement("br",null),r.a.createElement("p",null,"Email"),r.a.createElement("input",{type:"text",value:this.state.email,onChange:this.update("email"),className:"field-inputs"}),r.a.createElement("br",null),r.a.createElement("p",null,"Password"),r.a.createElement("input",{type:"password",value:this.state.password,onChange:this.update("password"),className:"field-inputs"}),r.a.createElement("br",null),r.a.createElement("p",null,"Confirm Password"),r.a.createElement("input",{type:"password",value:this.state.password2,onChange:this.update("password2"),className:"field-inputs"}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Sign Up",className:"Sign-up-button"}),r.a.createElement("div",{className:"error-list"},this.renderErrors()))),r.a.createElement("div",{className:"switch-form-link"},r.a.createElement("br",null),r.a.createElement("p",null,"Already have an account? ",r.a.createElement(w.b,{className:"sign-in-link",to:"/signin"},"Sign in")))))}}]),t}(r.a.Component),P=Object(m.f)(_),U=Object(u.b)((function(e){return{signedIn:e.session.isSignedIn,errors:e.errors.session}}),(function(e){return{signup:function(t){return e(S(t))}}}))(P),A=function(e){function t(){return Object(f.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"session-page"},r.a.createElement(U,null))}}]),t}(r.a.Component),D=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).state={email:"",password:"",errors:{}},n.handleSubmit=n.handleSubmit.bind(Object(I.a)(n)),n.renderErrors=n.renderErrors.bind(Object(I.a)(n)),n.handleDemoLogin=n.handleDemoLogin.bind(Object(I.a)(n)),n}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentWillReceiveProps",value:function(e){!0===e.currentUser&&this.props.history.push("/"),this.setState({errors:e.errors})}},{key:"renderErrors",value:function(){var e=this;return r.a.createElement("ul",null,Object.keys(this.state.errors).map((function(t,n){return r.a.createElement("li",{key:"error-".concat(n)},e.state.errors[t])})))}},{key:"update",value:function(e){var t=this;return function(n){return t.setState(Object(R.a)({},e,n.currentTarget.value))}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};this.props.login(t)}},{key:"handleDemoLogin",value:function(e){e.preventDefault();this.props.login({email:"andreskimlee@gmail.com",password:"Hiremepls"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"splash-form-container"},r.a.createElement("img",{className:"wallpaper",src:T.a,alt:"session-wallpaper"}),r.a.createElement("div",{className:"session-outer"},r.a.createElement("h2",null,"Welcome Back To PiperHood!"),r.a.createElement("form",{className:"session-form",onSubmit:this.handleSubmit},r.a.createElement("p",null,"Email"),r.a.createElement("input",{type:"text",value:this.state.email,onChange:this.update("email"),className:"field-inputs"}),r.a.createElement("br",null),r.a.createElement("p",null,"Password"),r.a.createElement("input",{type:"password",value:this.state.password,onChange:this.update("password"),placeholder:"Password",className:"field-inputs"}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",className:"login-button",value:"Log in"}),r.a.createElement("div",{className:"error-list"},this.renderErrors())),r.a.createElement("form",{className:"demo-user-form",onSubmit:this.handleDemoLogin},r.a.createElement("input",{className:"demo-login-button",type:"submit",value:"Log in as Demo User"})),r.a.createElement("div",{className:"switch-form-link"}," ","Don't have an account? ",r.a.createElement(w.b,{className:"signup-text",to:"/signup"},"Sign up"))))}}]),t}(r.a.Component),V=Object(u.b)((function(e){return{errors:e.errors.session}}),(function(e){return{login:function(t){return e(C(t))}}}))(D),L=n(27),M=n.n(L),F=n(59),B=n(23),K=n(427),Q=["#17b3c1","#47d6b6","#bff8d4","#2794eb"],$=Math.PI/180,z=0,q=function(e){var t=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,c=e.startAngle,i=e.endAngle,o=e.fill;return r.a.createElement("g",null,r.a.createElement(B.g,{cx:t,cy:n,innerRadius:a,outerRadius:s+15,startAngle:c,endAngle:i,fill:o,label:W}))},W=function(e){var t=e.cx,n=e.cy,a=e.midAngle,s=e.innerRadius,c=e.outerRadius,i=e.percent,o=(e.index,s+.5*(c-s)),l=t+o*Math.cos(-a*$),u=n+o*Math.sin(-a*$);return r.a.createElement("text",{x:l,y:u,fill:"white",textAnchor:l>t?"start":"end",dominantBaseline:"central"},"".concat((100*i).toFixed(0),"%"))},X=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).state={allTransactions:null,livePrices:null,aggregatedStocks:null,activeIndex:null},n}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchAllTrans(this.props.currentUser.id).then((function(){e.setState({allTransactions:e.props.transactions})}))}},{key:"moneyFormat",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",n=parseFloat(e).toFixed(2).split(""),a=n.length-3;(a-=3)>0;)n.splice(a,0,",");return t+n.join("")}},{key:"componentDidUpdate",value:function(e){e.transactions.length!==this.props.transactions.length&&this.setState({allTransactions:this.props.transactions})}},{key:"onPieEnter",value:function(e,t){this.setState({activeIndex:t})}},{key:"findMultipleCompanies",value:function(){var e=Object(F.a)(M.a.mark((function e(t){var n,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.state.livePrices&&t.length===Object.values(this.state.livePrices).length){e.next=9;break}return t=t.join(","),e.next=4,fetch("https://cloud.iexapis.com/v1/stock/market/batch?types=quote&symbols=".concat(t,"&range=5y%20&token=").concat(K.IEXAPIKey));case 4:return n=e.sent,e.next=7,n.json();case 7:(a=e.sent).error||this.setState({livePrices:a});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderTooltip",value:function(e){var t=e.payload;if(t.length>0)return r.a.createElement("div",{className:"graph-tooltip-cont"},r.a.createElement("div",{className:"tooltip-symbol"},t[0].payload.symbol),r.a.createElement("div",null,(t[0].payload.totalVal/z*100).toFixed(2)+"%"))}},{key:"render",value:function(){var e,t,n,a=this,s={},c=[];return null===this.state.allTransactions?null:(this.state.allTransactions.forEach((function(e){s[e.symbol]?(s[e.symbol].count+=e.stock_count,s[e.symbol].amount+=e.amount):s[e.symbol]={count:e.stock_count,amount:e.amount}})),Object.values(s).length>=1&&(n=Object.keys(s),this.findMultipleCompanies(n)),z=0,this.state.livePrices&&Object.keys(this.state.livePrices).length===Object.keys(s).length?e=n.map((function(e,t){var n,i,o,l,u=s[e].amount;i=a.state.livePrices[e].quote.latestPrice,o=a.state.livePrices[e].quote.companyName;var m=s[e].count,h=m*i-u,p=i*m;return z+=p,h<0?(n="red",l="down"):h>0?(n="green",l="up"):0===h&&(n="grey",l="right"),c.push({totalVal:p,symbol:e}),r.a.createElement("div",{key:t,className:"portfolio-stock-info-cont"},r.a.createElement("div",{className:"currPrice-".concat(n)},e),r.a.createElement("div",{className:"company-name-port"},o),r.a.createElement("div",null,m),r.a.createElement("div",{className:"currPrice-".concat(n)},"$",(i*m).toFixed(2),r.a.createElement("div",{className:"price-direction"},r.a.createElement("div",null,"(",h.toFixed(2),")"),r.a.createElement("div",{className:"arrow-".concat(l)}))))})):this.findMultipleCompanies(Object.keys(s)),t=5e3!==this.props.currentUser.funds?r.a.createElement("div",{className:"column-names-cont"},r.a.createElement("div",null,"symbol"),r.a.createElement("div",null,"company"),r.a.createElement("div",null,"shares"),r.a.createElement("div",null,"value")):r.a.createElement("div",{className:"no-stocks-text"},"You Currently Own No Stocks"),r.a.createElement("div",{className:"portfolio-container"},r.a.createElement("div",{className:"port-val-total-text"},"Portfolio (",r.a.createElement("div",{className:"money-counter"},this.moneyFormat(z)),")"),r.a.createElement("div",{className:"port-2-cont"},r.a.createElement(B.e,{width:720,height:360},r.a.createElement(B.d,{activeIndex:this.state.activeIndex,activeShape:q,data:c,labelLine:!1,cx:360,cy:150,innerRadius:110,outerRadius:140,dataKey:"totalVal",onMouseEnter:this.onPieEnter.bind(this)},c.map((function(e,t){return r.a.createElement(B.a,{key:"cell-".concat(t),fill:Q[t%Q.length]})}))),r.a.createElement(B.h,{content:this.renderTooltip.bind(this)})),t,r.a.createElement("div",null,e))))}}]),t}(r.a.Component),G=function(e){return function(t){return(n=e,o.a.post("/api/transactions",n)).then((function(e){return t(function(e){return{type:"RECEIVE_TRANSACTION",transaction:e}}(e))}),(function(e){return t({type:"RECEIVE_TRANSACTION_ERRORS",errors:e.response.data})}));var n}},H=function(e){return function(t){return function(e){return o.a.get("/api/transactions/".concat(e))}(e).then((function(e){return t(function(e){return{type:"RECEIVE_TRANSACTIONS",transactions:e}}(e))}))}},Y=Object(m.f)(Object(u.b)((function(e,t){return{currentUser:e.session.user,transactions:Object.values(e.entities.transactions)}}),(function(e){return{fetchAllTrans:function(t){return e(H(t))}}}))(X)),J=n(43),Z=n.n(J),ee=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).state={price:n.props.currPrice,originalPrice:n.props.currPrice,Qty:"",symbol:n.props.symbol,calculator:"hide"},n}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentDidUpdate",value:function(e){e.currPrice!==this.props.currPrice&&this.setState({price:this.props.currPrice,originalPrice:this.props.currPrice,symbol:this.props.symbol})}},{key:"handleMouseMove",value:function(e){e.activePayload&&this.setState({price:e.activePayload[0].payload.price})}},{key:"handleFocus",value:function(e){"focus"===e.type?this.setState({calculator:"show"}):"blur"===e.type&&this.setState({calculator:"hide"})}},{key:"handleMouseLeave",value:function(){this.setState({price:this.state.originalPrice})}},{key:"renderStockInfo",value:function(){var e,t;return this.props.data&&(t=this.props.data.map((function(t,n){return null!==t.high?e=t.high:t.high=e,{date:t.date,time:new Date("".concat(t.date,"T").concat(t.minute,":00")).toLocaleTimeString().split(" ")[0],price:t.high,idx:n}}))),t}},{key:"buyStock",value:function(){var e={user:this.props.currentUser,amount:this.state.originalPrice,stockCount:this.state.Qty,transactionType:"buy",symbol:this.state.symbol};this.props.createTransaction(e)}},{key:"handleChange",value:function(e){this.setState({Qty:e.target.value})}},{key:"render",value:function(){var e,t=this;Object.keys(this.props.errors).length>0&&Object.keys(this.props.errors).forEach((function(n){e=t.props.errors[n]}));var n=this.renderStockInfo();return r.a.createElement("div",null,r.a.createElement("div",{className:"stock-price-odometer"},"$",r.a.createElement(Z.a,{value:this.state.price,duration:300,format:"(,ddd).dd"})),r.a.createElement("div",{className:"percent-odo"},r.a.createElement("div",{className:"graph-change"},"$",r.a.createElement(Z.a,{value:(this.state.originalPrice-this.state.price).toFixed(2)})),r.a.createElement("div",null," [ ",r.a.createElement(Z.a,{value:((this.state.originalPrice-this.state.price)/this.state.originalPrice*100).toFixed(2)})," % ] ")),r.a.createElement("div",{className:"day-text"},"30 Day History"),r.a.createElement("div",{className:"graph-container"},r.a.createElement(B.f,null,r.a.createElement(B.c,{data:n,margin:{top:20,right:0,left:0,bottom:0},onMouseMove:this.handleMouseMove.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),height:300},r.a.createElement(B.i,{dataKey:"date",allowDataOverflow:!1}),r.a.createElement(B.j,{type:"number",dataKey:"price",domain:300,hide:!0}),r.a.createElement(B.h,{position:{y:1}}),r.a.createElement(B.b,{type:"linear",connectNulls:!0,dot:!1,dataKey:"price",stroke:"#20ce9a",strokeWidth:"2"}))),r.a.createElement("div",{className:"buy-container"},r.a.createElement("input",{onFocus:this.handleFocus.bind(this),onBlur:this.handleFocus.bind(this),onChange:this.handleChange.bind(this),className:"ticker-search-2",type:"text",placeholder:"Quantity To Buy",value:this.state.Qty}),r.a.createElement("div",{className:"calculator-".concat(this.state.calculator)},r.a.createElement("div",null,"Price - $",this.props.currPrice),r.a.createElement("div",{className:"share-qty"},"Shares - ",r.a.createElement(Z.a,{value:0===this.state.Qty.length?0:this.state.Qty})),r.a.createElement("div",{className:"total-calc"},"Total = $",r.a.createElement(Z.a,{value:(this.props.currPrice*this.state.Qty).toFixed(2)})," ")),r.a.createElement("button",{onClick:this.buyStock.bind(this),className:"buy-button"},"Buy")),r.a.createElement("div",{className:"errors-container"},e)))}}]),t}(r.a.Component),te=Object(m.f)(Object(u.b)((function(e,t){return{currentUser:e.session.user,errors:e.errors.transaction}}),(function(e){return{createTransaction:function(t){return e(G(t))}}}))(ee)),ne=(n(430),"sk_d78be1c9c5284c1d83028b0ab25aa5fe"),ae=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).search=function(){var e=Object(F.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://sandbox.iexapis.com/stable/search/".concat(t,"?token=Tsk_536efa1336e94441beb5f27e888e3721")).then((function(e){return e.json()})).then((function(e){n.setState({result:e})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.findCompany=function(e){fetch("https://cloud.iexapis.com/stable/stock/".concat(e,"/quote?token=").concat(ne)).then((function(e){return e.json()})).then((function(t){n.setState({company:t,price:t.latestPrice,symbol:e})})),fetch("https://cloud.iexapis.com/stable/stock/".concat(e,"/chart/1m?token=").concat(ne)).then((function(e){return e.json()})).then((function(e){n.setState({history:e})}))},n.getCompanyName=function(){var e=Object(F.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cloud.iexapis.com/stable/stock/".concat(t,"/quote?token=").concat(ne)).then((function(e){return e.json()})).then((function(e){n=e.companyName})).then((function(){return n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={searchTerm:"",result:null,company:null,history:null,price:null,symbol:null},n.handleClick=n.handleClick.bind(Object(I.a)(n)),n.getCompanyName=n.getCompanyName.bind(Object(I.a)(n)),n}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.currentUser&&Object.values(this.props.user).length<1&&this.props.fetchUser(this.props.currentUser.id)}},{key:"handleChange",value:function(e){0===e.currentTarget.value.length&&this.setState({result:null}),this.search(e.currentTarget.value),this.setState({searchTerm:e.currentTarget.value})}},{key:"handleClick",value:function(e){this.setState({searchTerm:e,result:null}),this.findCompany(e)}},{key:"moneyFormat",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",n=parseFloat(e).toFixed(2).split(""),a=n.length-3;(a-=3)>0;)n.splice(a,0,",");return t+n.join("")}},{key:"render",value:function(){var e,t,n,a=this;this.state.company&&(e=this.state.company.companyName,t=r.a.createElement("div",{className:"abc-dd"},r.a.createElement("div",{className:"company-name-text"},e),r.a.createElement(te,{data:this.state.history,symbol:this.state.symbol,currPrice:this.state.price,funds:this.props.user.funds}))),this.state.result&&(n=this.state.result.map((function(e,t){return r.a.createElement("div",{onClick:function(){return a.handleClick(e.symbol)},className:"search-result-item",key:t},e.symbol)})));var s=this.props.user.funds;return r.a.createElement("div",{className:"cash-container"},r.a.createElement("div",{className:"cash-available-text"},"Available Cash - $",r.a.createElement(Z.a,{duration:300,value:s})),r.a.createElement("form",{className:"form-cont"},r.a.createElement("div",{className:"input-class"},r.a.createElement("input",{className:"ticker-search-1",type:"text",value:this.state.searchTerm,placeholder:"Search Stock By Ticker",onChange:function(e){return a.handleChange(e)}}),r.a.createElement("div",{className:"search-res-cont"},n))),t)}}]),t}(r.a.Component),re=function(e){return{type:"RECEIVE_USER",user:e}},se=function(e){return function(t){return function(e){return o.a.get("/api/users/".concat(e))}(e).then((function(e){return t(re(e))}))}},ce=Object(m.f)(Object(u.b)((function(e,t){return{user:e.entities.users,currentUser:e.session.user}}),(function(e){return{fetchUser:function(t){return e(se(t))}}}))(ae)),ie=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(I.a)(n)),n.props=e,n}return Object(y.a)(t,e),Object(E.a)(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.logout()}},{key:"render",value:function(){return r.a.createElement("div",{className:"nav-container"},r.a.createElement("div",{id:"aa"},"Welcome! ",this.props.currentUser.name),r.a.createElement(w.b,{id:"aa",className:"text-4-links",to:"/transactions"},"Transactions"),r.a.createElement(w.b,{id:"aa",className:"text-4-links",to:"/"},"Portfolio"),r.a.createElement("input",{id:"aa",type:"submit",className:"sign-out",onClick:this.handleClick,value:"Sign Out"}))}}]),t}(r.a.Component),oe=Object(m.f)(Object(u.b)((function(e,t){return{currentUser:e.session.user}}),(function(e){return{logout:function(){return e(N())}}}))(ie)),le=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(I.a)(n)),n.props=e,n}return Object(y.a)(t,e),Object(E.a)(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.logout()}},{key:"render",value:function(){return r.a.createElement("div",{className:"mainpage-container"},r.a.createElement(oe,null),r.a.createElement("div",{className:"mid-container"},r.a.createElement(Y,null),r.a.createElement(ce,null)))}}]),t}(r.a.Component),ue=Object(m.f)(Object(u.b)((function(e,t){return{currentUser:e.session.user}}),(function(e){return{logout:function(){return e(N())}}}))(le)),me=function(e){function t(){return Object(f.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchAllTrans(this.props.currentUser.id).then((function(){e.setState({allTransactions:e.props.transactions})}))}},{key:"render",value:function(){var e;return this.props.transactions.length>0&&(e=this.props.transactions.map((function(e){return r.a.createElement("div",{className:"transaction-detail-text"},r.a.createElement("div",null,e.transaction_type.toUpperCase()),r.a.createElement("div",null,"(",e.symbol,")"),r.a.createElement("div",null," - ",e.stock_count+"Shares"),r.a.createElement("div",null,"@"+e.amount))}))),r.a.createElement("div",{className:"transactions-container"},r.a.createElement(oe,null),r.a.createElement("div",{className:"transaction-title-text"},"Transactions"),e)}}]),t}(r.a.Component),he=Object(m.f)(Object(u.b)((function(e,t){return{currentUser:e.session.user,transactions:Object.values(e.entities.transactions)}}),(function(e){return{fetchAllTrans:function(t){return e(H(t))}}}))(me)),pe=function(e){return r.a.createElement("div",null,r.a.createElement(d,{exact:!0,path:"/",component:ue,loggedIn:e.state().session.isAuthenticated}),r.a.createElement(p,{path:"/signup",component:A,loggedIn:e.state().session.isAuthenticated}),r.a.createElement(p,{path:"/signin",component:V,loggedIn:e.state().session.isAuthenticated}),r.a.createElement(d,{exact:!0,path:"/transactions",component:he,loggedIn:e.state().session.isAuthenticated}))},de=function(e){return r.a.createElement(u.a,{store:e.store},r.a.createElement(w.a,null,r.a.createElement(pe,{state:e.store.getState})))},fe=n(26),Ee=n(194),ve=n(195),be=n.n(ve),ye=n(112),ge={isAuthenticated:!1,user:{}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_USER_LOGOUT":return{isAuthenticated:!1,user:void 0};case"RECEIVE_CURRENT_USER":return Object(ye.a)({},e,{isAuthenticated:!!t.currentUser,user:t.currentUser});case"RECEIVE_USER_SIGN_IN":return Object(ye.a)({},e,{isSignedIn:!0});default:return e}},je=[],ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_SESSION_ERRORS":return t.errors;case"RECEIVE_CURRENT_USER":return je;default:return e}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_TRANSACTION_ERRORS":return t.errors;default:return e}},Se=Object(fe.c)({session:ke,transaction:Ne}),Ce=n(61),Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_CURRENT_USER":return Object(Ce.merge)({},t.currentUser,e);case"RECEIVE_USER":return t.user.data;case"RECEIVE_TRANSACTION":return t.transaction.data;default:return e}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_TRANSACTIONS":return Object(Ce.merge)({},e,t.transactions.data);case"RECEIVE_TRANSACTION":return Object(Ce.merge)({},e,Object(R.a)({},Object.values(e).length,t.transaction.data.transaction));default:return e}},we=Object(fe.c)({users:Re,transactions:Ie}),xe=Object(fe.c)({entities:we,session:Oe,errors:Se}),Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(fe.d)(xe,e,Object(fe.a)(Ee.a,be.a))};n(431),n(432),n(433),n(434),n(435),n(436),n(437);document.addEventListener("DOMContentLoaded",(function(){var e;if(localStorage.jwtToken){g(localStorage.jwtToken);var t=j()(localStorage.jwtToken);e=Te({session:{isAuthenticated:!0,user:t}});var n=Date.now()/1e3;t.exp<n&&(e.dispatch(N()),window.location.href="/login")}else e=Te({});var a=document.getElementById("root");c.a.render(r.a.createElement(de,{store:e}),a),window.axios=o.a,window.state=e.getState}))},78:function(e,t,n){e.exports=n.p+"static/media/signin_wallpaper.2e94add9.png"}},[[220,1,2]]]);
//# sourceMappingURL=main.856a0cd9.chunk.js.map